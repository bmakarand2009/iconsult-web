/*! iconsult 01-02-2014 version: 1.0.0 
 author: https://twitter.com/MakBkar */

"use strict";myApp.factory("adminService",["$resource","$cookieStore","$http","appConstants",function(a,b,c,d){return{signIn:function(b){return a(d.baseUrl+"rest/auth").get(b)},signOut:function(){var c=b.get("username"),e={username:c};return a(d.baseUrl+"auth/logout").get(e)},jumpToContact:function(a){var e=d.baseUrl+"rest/jump?q=",f=b.get("authCode"),g=e+a+"&token="+f;return c.get(g)}}}]),myApp.controller("LoginController",["$scope","authService","adminService","$cookieStore","RestMaster","$rootScope",function(a,b,c,d,e,f){a.init=function(){f.$broadcast("event:auth-invalidlogin")}(),a.submit=function(){var f={username:a.username,password:a.password};a.resp=c.signIn(f),//Auth code is alwaysof 15 digits
a.resp.$promise.then(function(c){for(var f,g=0;16>g;g++)"undefined"==typeof f?f=c[g]:f+=c[g];console.log("authcode is here"+f),e.updateAuthCode(f),d.put("authCode",f),d.put("username",a.username),d.put("status",""),b.loginConfirmed()})}}]),myApp.controller("ParentViewController",["$scope","$cookieStore","$state","adminService","$http",function(a,b,c,d){a.isLoggedIn=!0,a.$on("event:auth-invalidlogin",function(){a.isLoggedIn=!1}),a.$on("event:auth-loginConfirmed",function(){a.isLoggedIn=!0}),a.isValidUser=function(){return a.isLoggedIn},a.logout=function(){a.resp=d.signOut(),a.resp.$promise.then(function(){b.put("authCode",""),b.put("username",""),b.put("status","Enter your credentials"),console.log("user logged out"),a.isLoggedIn=!1,c.go("login")})},a.autoFillJump=function(a){return d.jumpToContact(a).then(function(a){var b=[];return angular.forEach(a.data,function(a){b.push(a.label)}),b})}}]),myApp.controller("MyTestController",["$scope","$cookieStore","$state","signOutService","$http","createDialog","genericModules",function(a,b,c,d,e,f,g){a.isLoggedIn=!0,a.parentTest="hello khushi, how do u do i am fine how 'bout you? ",a.selected=void 0,a.states=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Dakota","North Carolina","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],a.awesomeFunc=function(){toastr.options.closeButton=!0,toastr.success("Did you see Khushi's Awesomeness")},a.getLocation=function(a){return e.get("http://maps.googleapis.com/maps/api/geocode/json",{params:{address:a,sensor:!1}}).then(function(a){var b=[];return angular.forEach(a.data.results,function(a){b.push(a.formatted_address)}),window.myaddr2=b,b})},a.autoFillLocation=function(a){var c="/geo/findByCityOrZip?q=",d=b.get("authCode"),f=c+a+"&token="+d;return e.get(f).then(function(a){var b=[];return angular.forEach(a.data,function(a){b.push(a)}),b})},a.launchDateDialog=function(){f(g.dateDialog,{id:"testDateDialog",title:g.deleteDialogTitle,backdrop:!0,controller:"DialogTestCtrl",success:{label:"Submit ",fn:function(){toastr.success("Dialog Records Successful.")}}},{model:{selectedItems:"test"}})},a.today=function(){a.dt=new Date},a.today(),a.showWeeks=!0,a.toggleWeeks=function(){a.showWeeks=!a.showWeeks},a.clear=function(){a.dt=null},// Disable weekend selection
a.disabled=function(a,b){return"day"===b&&(0===a.getDay()||6===a.getDay())},a.toggleMin=function(){a.minDate=a.minDate?null:new Date},a.toggleMin(),a.open=function(b){b.preventDefault(),b.stopPropagation(),a.opened=!0},a.dateOptions={"year-format":"'yy'","starting-day":1},a.formats=["dd-MMMM-yyyy","yyyy/MM/dd","shortDate"],a.format=a.formats[0]}]),myApp.controller("DialogTestCtrl",["$scope","model",function(a){a.simpleVar="test passed",a.submit=function(a){a()},a.today=function(){a.dt=new Date},a.today(),a.showWeeks=!0,a.toggleWeeks=function(){a.showWeeks=!a.showWeeks},a.clear=function(){a.dt=null},// Disable weekend selection
a.disabled=function(a,b){return"day"===b&&(0===a.getDay()||6===a.getDay())},a.toggleMin=function(){a.minDate=a.minDate?null:new Date},a.toggleMin(),a.open=function(b){b.preventDefault(),b.stopPropagation(),a.opened=!0},a.dateOptions={"year-format":"'yy'","starting-day":1},a.formats=["dd-MMMM-yyyy","yyyy/MM/dd","shortDate"],a.format=a.formats[0]}]);
//# sourceMappingURL=web-app/assets/sources.min.js.map